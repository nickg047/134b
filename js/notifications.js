Parse.initialize("lSrD6K2YbBIZKM7H8VMS43nY1ekjsEohi1RNY7Iu","c3iXu7MDpI5guDqlEgr93lan7z0BoajBWSjGOU2j");var notifications={habitsList:null,numHabits:0,displayPageLoadNotifications:!0,timer:{currentTimer:0,intervalTimer:null,oneSecond:1e3,oneMinute:6e4,oneHour:36e5,convertSecondsToTimerUnits:function(a){return a*notifications.timer.oneSecond},convertMinutesToTimerUnits:function(a){return a*notifications.timer.oneMinute},convertHoursToTimerUnits:function(a){return a*notifications.timer.oneHour},convertTimerUnitsToSeconds:function(a){return a/notifications.timer.oneSecond},convertTimerUnitsToMinutes:function(a){return a/notifications.timer.oneMinute},convertTimerUnitsToHours:function(a){return a/notifications.timer.oneHour},setTimerRaw:function(a){notifications.timer.currentTimer=a,notifications.timer.clearTimer(),notifications.startNotification()},setTimerInSeconds:function(a){notifications.timer.setTimerRaw(notifications.timer.convertSecondsToTimerUnits(a))},setTimerInMinutes:function(a){notifications.timer.setTimerRaw(notifications.timer.convertMinutesToTimerUnits(a))},setTimerInHours:function(a){notifications.timer.setTimerRaw(notifications.timer.convertHoursToTimerUnits(a))},getCurrentTimerRaw:function(){return notifications.timer.currentTimer},getCurrentTimerSeconds:function(){return notifications.timer.convertTimerUnitsToSeconds(notifications.timer.getCurrentTimerRaw())},getCurrentTimerMinutes:function(){return notifications.timer.convertTimerUnitsToMinutes(notifications.timer.getCurrentTimerRaw())},getCurrentTimerHours:function(){return notifications.timer.convertTimerUnitsToHours(notifications.timer.getCurrentTimerRaw())},clearTimer:function(){null!=notifications.timer.intervalTimer&&clearInterval(notifications.timer.intervalTimer)}},pushNotify:function(a){"granted"===Notification.permission?new Notification(a):"denied"!==Notification.permission&&Notification.requestPermission(function(b){"granted"===b&&new Notification(a)})},getAllHabits:function(){var a,b=Parse.Object.extend("Habit"),c=new Parse.Query(b);return c.equalTo("owner",Parse.User.current().id),c.find({success:function(b){a=b},error:function(b){a=null}}),a},todayIsUpdateDay:function(a){var b=new Date,c=b.getDay();return b=null,0===a.get("weekFreq")[c]?!1:!0},completedHabit:function(a){return a.get("ticks")==a.get("dailyFreq")},updateTodaysHabits:function(){var a=0,b=0;for(a=0;a<notifications.habitsList.length;a++){var c=notifications.habitsList[a];notifications.todayIsUpdateDay(c)&&(notifications.completedHabit(c)||b++)}notifications.numHabits=b},startNotification:function(){notifications.timer.intervalTimer=setInterval(function(){var a=Parse.Object.extend("Habit"),b=new Parse.Query(a);b.equalTo("owner",Parse.User.current().id),b.find({success:function(a){notifications.habitsList=a,notifications.updateTodaysHabits(),0!=notifications.numHabits&&notifications.pushNotify("You have ".concat(notifications.numHabits.toString()).concat(" incomplete tasks"))}})},notifications.timer.getCurrentTimerRaw())},disableNotifications:function(){notifications.timer.clearTimer()},pageLoadNotifications:function(){if(notifications.displayPageLoadNotifications){var a=Parse.Object.extend("Habit"),b=new Parse.Query(a);b.equalTo("owner",Parse.User.current().id),b.find({success:function(a){notifications.habitsList=a,notifications.updateTodaysHabits(),0!=notifications.numHabits&&notifications.pushNotify("You have ".concat(notifications.numHabits.toString()).concat(" incomplete tasks"))}})}}};notifications.timer.setTimerInHours(1),notifications.pageLoadNotifications();